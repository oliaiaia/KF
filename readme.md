# üìò Kalman Filter (KF + EKF) ‚Äî C++ Implementation

## üìç –û–ø–∏—Å–∞–Ω–∏–µ

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç **C++ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è**:

* ‚≠ê **Kalman Filter (KF)** ‚Äî –¥–ª—è –ª–∏–Ω–µ–π–Ω—ã—Ö –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º,
* üîÑ **Extended Kalman Filter (EKF)** ‚Äî –¥–ª—è –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö —Å–∏—Å—Ç–µ–º —Å –ª–∏–Ω–µ–π–Ω–æ–π –∞–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏–µ–π. ([GitHub][1])

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –∑–∞–¥–∞—á **–æ—Ü–µ–Ω–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º**, —Ç–∞–∫–∏—Ö –∫–∞–∫:
‚úî —Ä–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∞ (–ø–æ–∑–∏—Ü–∏—è, —Å–∫–æ—Ä–æ—Å—Ç—å, –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è)
‚úî –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ–Ω—Å–æ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚úî –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ SLAM
‚úî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

---

## üß† –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* üìå –ß–∏—Å—Ç—ã–π **C++ (–±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –±–æ–ª—å—à–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫)**
* üí° –ü—Ä–∏–º–µ—Ä—ã –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤:

  * **KF –¥–ª—è –ª–∏–Ω–µ–π–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π**
  * **EKF –¥–ª—è –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π**
* üìò –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç
* ‚öôÔ∏è –°–æ–±–∏—Ä–∞–µ—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **CMake**
* üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è/–∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –º–∞—Ç–ø–ª–æ—Ç–ª–∏–±–æ–º

---

## üì¶ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
üì¶ KF
 ‚î£ üìÇ data                  # –ù–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
 ‚î£ üìÇ include               # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
 ‚î£ üìÇ matplotplusplus       # –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
 ‚î£ üìÇ src                   # –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
 ‚î£ üìú CMakeLists.txt        # CMake –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
 ‚î£ üìú example0.md           # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è KF
 ‚î£ üìú example1.md           # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è EKF
 ‚îó üìú example2.md           # –ü–æ—ç—Ç–∞–ø–Ω—ã–π —Ä–∞–∑–±–æ—Ä
```

---

## üöÄ –ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **CMake**, –ø–æ—ç—Ç–æ–º—É —Å–±–æ—Ä–∫–∞ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–∞—è:

```bash
git clone https://github.com/oliaiaia/KF.git
cd KF
mkdir build && cd build
cmake ..
make
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–∑–¥–∞—é—Ç—Å—è –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤ –∏ –º–æ–¥—É–ª–µ–π —Ñ–∏–ª—å—Ç—Ä–æ–≤.

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å **markdown-–ø—Ä–∏–º–µ—Ä—ã** (`example0.md`, `example1.md`, `example2.md`), –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ä—è—Å–Ω—è—é—Ç:

* –∫–∞–∫ **–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä**,
* –∫–∞–∫ –ø–æ–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ,
* –∫–∞–∫ –ø–æ–ª—É—á–∞—Ç—å –æ—Ü–µ–Ω–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è,
* —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É KF –∏ EKF.

üìå –≠—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –ø–æ–ª–µ–∑–Ω—ã –∫–∞–∫ **—É—á–µ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ** –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á.

---

## üìò –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏)

### üü¢ Kalman Filter (KF)

KF –ø—Ä–∏–º–µ–Ω–∏–º, –∫–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–∞ –ª–∏–Ω–µ–π–Ω–∞ –∏ —à—É–º—ã –≥–∞—É—Å—Å–æ–≤—ã:

* –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã: ( x_k )
* –ú–æ–¥–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∞: ( x_{k+1} = A x_k + B u_k + w_k )
* –ò–∑–º–µ—Ä–µ–Ω–∏—è: ( z_k = H x_k + v_k )

–ì–¥–µ:

* ( A ) ‚Äî –º–∞—Ç—Ä–∏—Ü–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞,
* ( H ) ‚Äî –º–∞—Ç—Ä–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏–π,
* ( w_k, v_k ) ‚Äî –≥–∞—É—Å—Å–æ–≤—Å–∫–∏–µ —à—É–º—ã.

---

### üîµ Extended Kalman Filter (EKF)

EKF —Ä–∞—Å—à–∏—Ä—è–µ—Ç KF –Ω–∞ **–Ω–µ–ª–∏–Ω–µ–π–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã**:

* ( x_{k+1} = f(x_k, u_k) + w_k )
* ( z_k = h(x_k) + v_k )

–ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–ª–∏–Ω–µ–∞—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –Ø–∫–æ–±–∏–∞–Ω—ã**:

* ( F = \frac{\partial f}{\partial x} \Big|_{x=\hat{x}} )
* ( H = \frac{\partial h}{\partial x} \Big|_{x=\hat{x}} )

---

## üõ† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

‚úî –°++17 –∏–ª–∏ –≤—ã—à–µ
‚úî CMake 3.10+
‚úî –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ (–≤ –∫–æ–º–ø–ª–µ–∫—Ç–µ)
‚úî –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ `Eigen`, –µ—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–∞—Ç—Ä–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
